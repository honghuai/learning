<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>可复用的过渡</title>
    <link href="https://unpkg.com/animate.css@3.5.1/animate.min.css" rel="stylesheet" type="text/css">

    <style>

        .very-special-transition{
              display: inline-block;
              margin-right: 10px;
          }
        .very-special-transition-enter-active,.very-special-transition-leave-active{
            transition: all 1s;
        }
        .very-special-transition-enter{
            opacity: 0;
            transform: translateY(-30px) rotate(145deg);
        }
        .very-special-transition-leave-active{
            opacity: 0;
            transform: translateY(30px);
        }

        .very-special-transition-move{
            transition: all 1s;
        }
    </style>
</head>
<body>
<div id="app">
    <my-spcial-transition :show="show" :changeIt="changeIT">

        <my-component></my-component>
    </my-spcial-transition>
</div>

</body>
<script src="../../lib/vue2.1.3.js"></script>
<script>
    /**
     * 疑惑：动画暂时实现不出
     * */
    Vue.component("my-spcial-transition", {
        template: '\
        <transition\
        name="very-special-transition"\
        mode="out-in"\
        @before-enter="beforeEnter"\
        @enter="enter"\
        @after-enter="afterEnter"\
        >\
        <slot></slot>\
        </transition>\
        ',
        props: ["show"],
        methods: {
            beforeEnter: function (el) {
                console.log(el);
            },
            enter: function (el) {
                console.log(el);
                el.className = "animated tada";
            },
            afterEnter: function (el) {
                console.log(el);
            }
        }
    })
    new Vue({
        el: "#app",
        data: {
            show: true
        },
        components: {
            "my-component": {
                template: '<div>\
          this is my component\
          <button @click="changeIt">change</button>\
          <button @click="add">add</button>\
          <p v-for="item in items" :key="item">{{item}}</p></div>\
          ',
                data: function () {
                    return {
                        count: 0,
                        items: [1, 2, 3, 4, 5]
                    }
                },
                methods: {
                    changeIt: function () {
                        console.log(this.count);
                        this.count++;
                    },
                    add: function () {
                        this.items.push(this.count);

                    }
                }
            }
        },
        methods: {

        }
    })
</script>
</html>